<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>KO observable set demo</title>

	<script src="http://knockoutjs.com/downloads/knockout-3.3.0.js"></script>
	<script src="ko.observableSet.js"></script>
</head>
<body>
	<p>
		Value to Add/Remove: <input data-bind="value: itemToAddRemove" /> <button data-bind="click: addItem">Add</button> <button data-bind="click: removeItem">Remove</button>
	</p>
	<p>
		Value to check for presence: <input data-bind="value: keyToCheck, style: {color: hasKey ? 'green' : 'pink'}" />
	</p>

    <ul data-bind="foreach: set.asObservableArray()">
    	<li data-bind="text: $data"></li>
    </ul>

<script>
var data = [
    234,
    321,
    "abc",
    345,
    null,
    "this is a test",
    234 // A duplicate
];
var viewModel = {
    set: new ko.observableSet(data),
    
    itemToAddRemove: new ko.observable(),
    itemToCheck: new ko.observable(),

    addItem: function() {
        this.set.add(this.itemToAddRemove());
    },

    removeItem: function() {
        this.set.delete(this.itemToAddRemove());
    },
    
    hasItem: ko.computed(function() {
    	return this.set.has(this.itemToCheck());
    }, this);
};
ko.applyBindings(viewModel);
</script>
</body>
</html>
